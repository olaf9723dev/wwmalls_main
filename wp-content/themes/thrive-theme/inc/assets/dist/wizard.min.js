!function(e){let t,r;if(e((function(){if(t=e("#tcb_landing_page").length,t){const t=e("body");if(t.append('<div class="ttb-wizard-border"></div>'),window.tve_frontend_options){const e=new URLSearchParams(location.search),r=Object.fromEntries(e.entries());r["ttb-wizard[template_id]"]&&r["ttb-wizard[template_id]"].includes("user-saved-template")&&t.addClass(`page-id-${tve_frontend_options.post_id}`)}}})),!window.parent)return;function i(){return r||(r=location.hash.match(/localize=(\w+)/),r=r?r[1]:"thrive_front_localize"),window[r]}const{view:o,context:a}=function(){const e={view:null,context:null};let t=location.hash.match(/obj=([\w.]+)/);t=t?t[1]:"TTD.objects";const r=t.split(".");t=window.parent;const i=t[r[0]];for(;r.length;){const i=r.shift();if(!t[i])return e;t=t[i]}return t.wizardView?{view:t.wizardView,context:i}:e}();if(!o)return;a.$=e;const n=o.model,s=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.get("active");switch(t){case"header":case"woo_header":return e(".ttb-placeholder.p-header,.thrv_header");case"footer":case"woo_footer":return e(".ttb-placeholder.p-footer,.thrv_footer");case"sidebar":return e("#theme-sidebar-section");default:return e()}},d=window.refreshPosition=()=>{const r=i();l()&&e("html").scrollTop(1e4),n.iframeData=o.iframeData={headerHeight:s("header").outerHeight(),footerHeight:s("footer").outerHeight(),sidebarWidth:s("sidebar").outerWidth(),scrollWidth:window.innerWidth-document.documentElement.offsetWidth,templateId:Array.from(document.body.classList).filter((e=>e.startsWith("tve-theme-"))).map((e=>Number(e.replace("tve-theme-","")))).pop(),nextPage:r.wizard.next_page,prevPage:r.wizard.prev_page},t&&e(".ttb-wizard-border").css({top:o.iframeData.headerHeight,bottom:o.iframeData.footerHeight}),o.buildOverlay()},l=function(){const e=i();return e&&("footer"===e.wizard.step||"woo_footer"===e.wizard.step)};e(window).on("load",(function(){d()})),window.onbeforeunload=()=>{delete o.iframeAPI},e((function(){o.iframeAPI={getPreviewElement:s,inlinePreview(t){const r=e(t.html);!function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.get("active");if("sidebar"===r){e("style.ttd-wizard-sidebar-style").remove();let r=s();const i=!r.length,o=t.filter("aside");i&&(r=o.clone().empty().attr("data-display-type",JSON.stringify({desktop:"off-screen"})),e("#content .main-container").prepend(r),requestAnimationFrame((()=>{e("body").addClass("theme-has-off-screen-sidebar visible-off-screen-sidebar").attr({"data-off-screen-side":"left","data-off-screen-type":"push",style:"--off-screen-sidebar-size:330px"}),ThriveTheme.initElements()}))),o.attr("style",r.attr("style")),void 0!==o[0]&&e.each(r[0].dataset,((e,t)=>{"selector"!==e&&(o[0].dataset[e]=t)})),r.replaceWith(t)}else s(r).replaceWith(t)}(r);const i=r.find("style,img").add(r.filter("style"));let o=i.length;i.length?(i.on("load",(()=>{o--,0===o&&requestAnimationFrame(d)})),setTimeout((()=>{0!==o&&d()}),500)):requestAnimationFrame(d)}},e("a, div").on("click",(()=>!1)),l()&&e("html").scrollTop(1e4),requestAnimationFrame(d)}))}(jQuery);